# pip install googletrans 
# pip install textblob

from tkinter import*
import googletrans
import textblob
from tkinter import ttk,messagebox


root = Tk()
root.title('Assignment 3 - Question 1')
#root.iconbitmap('') #insert the icon of charles darwin university if possible
root.geometry("880x300") #optimise this size

def clear():
    original_text.delete(1.0, END)
    translated_text.delete(1.0, END)

# define the functions
def translate_it(): 
    # Delete any previous translations
    translated_text.delete(1.0, END)
    try:
        # Get the from language key
        for key, value in languages.items():
            if (value == original_combo.get()):
                from_language_key = key
                    
        # get the to language key
        for key, value in languages.items():
            if (value == translated_combo.get()):
                to_language_key = key
        # This turns original text into a text blob
        words = textblob.TextBlob(original_text.get(1.0, END))

        # Translate text 
        words = words.translate(from_lang=from_language_key, to=to_language_key)

        # Output Translated text to the screen  
        translated_text.insert(1.0, words)

    except Exception as e:
        messagebox.showerror("Translator", e)
                             

languages = googletrans.LANGUAGES

language_list = list(languages.values())

# text boxes
original_text = Text(root, height=10, width=40) # change box sizes to suit what we want to do
original_text.grid(row=0, column=0, pady=20, padx=10) # pady brings it down from the top and padx brings it from the left towards the middle

# activation button
translate_button = Button(root, text = "Translate", font= ("Helvetica", 24 ), command=translate_it) # customise the font and size for the button
translate_button.grid(row=0, column=1, padx=10)
translated_text = Text(root, height=10, width=40) # change box sizes to suit what we want to do
translated_text.grid(row=0, column=2, pady=20, padx=10) # pady brings it down from the top and padx brings it from the left towards the middle

# combo boxes
original_combo = ttk.Combobox(root, width=50, value=language_list)
original_combo.current(21) # this brings up english as the first language as this is the most spoken language therefore we want it to be the default
original_combo.grid(row=1, column=0)

translated_combo = ttk.Combobox(root, width=50, value=language_list)
translated_combo.current(1) # this brings up the default language 
translated_combo.grid(row=1, column=2)

# refresh button
Clear_button = Button(root, text="Refresh" , command=clear)
Clear_button.grid(row = 2, column = 1)


root.mainloop()
